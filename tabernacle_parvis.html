import React, { useState } from 'react';
import { Info } from 'lucide-react';

const TabernacleParvis = () => {
  const [selectedElement, setSelectedElement] = useState(null);

  const elements = {
    autel: {
      title: "Autel des Holocaustes",
      description: "Fait de bois d'acacia recouvert d'airain (bronze). Dimensions: 5 coud√©es √ó 5 coud√©es √ó 3 coud√©es de haut. C'est ici que les sacrifices d'animaux √©taient offerts, symbolisant l'expiation par le sang.",
      reference: "Exode 27:1-8",
      symbolism: "Pr√©figure le sacrifice de Christ √† la croix - le jugement de Dieu sur le p√©ch√©."
    },
    cuve: {
      title: "Cuve d'Airain (Bassin de Bronze)",
      description: "Faite de bronze poli provenant des miroirs des femmes d'Isra√´l. Contenait de l'eau pour les ablutions des sacrificateurs avant d'entrer dans le Lieu Saint.",
      reference: "Exode 30:17-21",
      symbolism: "Repr√©sente la purification par la Parole de Dieu - la sanctification du croyant."
    },
    tente: {
      title: "Le Tabernacle (Tente d'Assignation)",
      description: "Structure de 30 coud√©es √ó 10 coud√©es √ó 10 coud√©es, divis√©e en deux parties : le Lieu Saint et le Lieu Tr√®s Saint (Saint des Saints), s√©par√©s par un voile.",
      reference: "Exode 26",
      symbolism: "Demeure de Dieu au milieu de son peuple - pr√©figure Christ 'tabernacling' parmi nous (Jean 1:14)."
    },
    parvis: {
      title: "Le Parvis",
      description: "Enceinte de 100 coud√©es √ó 50 coud√©es, entour√©e de toiles de lin blanc suspendues √† des colonnes d'airain. Seule entr√©e : √† l'Est.",
      reference: "Exode 27:9-19",
      symbolism: "La saintet√© de Dieu - s√©paration d'avec le monde. L'entr√©e unique √† l'Est pr√©figure Christ, 'la Porte' (Jean 10:9)."
    },
    entree: {
      title: "La Porte du Parvis",
      description: "Rideau de 20 coud√©es de large, tiss√© de fils bleu, pourpre, cramoisi et de fin lin retors. Unique acc√®s au Tabernacle.",
      reference: "Exode 27:16",
      symbolism: "Christ est 'la Porte' - le seul chemin vers Dieu (Jean 14:6)."
    }
  };

  return (
    <div className="w-full h-screen bg-gradient-to-b from-amber-50 to-stone-100 p-4 overflow-auto">
      <div className="max-w-6xl mx-auto">
        <h1 className="text-3xl font-bold text-center text-amber-900 mb-2">
          Le Tabernacle du D√©sert - Vue du Parvis
        </h1>
        <p className="text-center text-stone-600 mb-6 italic">
          "Ils me feront un sanctuaire, et j'habiterai au milieu d'eux" (Exode 25:8)
        </p>

        {/* Sch√©ma principal */}
        <div className="relative bg-gradient-to-b from-yellow-100 to-amber-100 rounded-lg shadow-2xl p-8 mb-6 border-4 border-amber-800">
          
          {/* Le Parvis (enceinte ext√©rieure) */}
          <svg viewBox="0 0 800 500" className="w-full h-auto">
            {/* Fond sable du d√©sert */}
            <rect x="0" y="0" width="800" height="500" fill="#f5deb3" opacity="0.3"/>
            
            {/* Enceinte du parvis (toiles blanches) */}
            <rect 
              x="50" y="50" width="700" height="400" 
              fill="none" 
              stroke="#ffffff" 
              strokeWidth="8"
              onClick={() => setSelectedElement(elements.parvis)}
              className="cursor-pointer hover:stroke-amber-400 transition-all"
            />
            
            {/* Colonnes du parvis (sugg√©r√©es) */}
            {[...Array(14)].map((_, i) => (
              <line 
                key={`top-${i}`}
                x1={50 + i * 50} y1="50" 
                x2={50 + i * 50} y2="70" 
                stroke="#8B4513" 
                strokeWidth="3"
              />
            ))}
            {[...Array(14)].map((_, i) => (
              <line 
                key={`bottom-${i}`}
                x1={50 + i * 50} y1="430" 
                x2={50 + i * 50} y2="450" 
                stroke="#8B4513" 
                strokeWidth="3"
              />
            ))}

            {/* Porte du Parvis (√† l'Est) */}
            <rect 
              x="340" y="50" width="120" height="8" 
              fill="url(#porteCouleur)"
              onClick={() => setSelectedElement(elements.entree)}
              className="cursor-pointer hover:opacity-80 transition-all"
            />
            <defs>
              <linearGradient id="porteCouleur" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style={{stopColor: '#4169E1', stopOpacity: 1}} />
                <stop offset="33%" style={{stopColor: '#800080', stopOpacity: 1}} />
                <stop offset="66%" style={{stopColor: '#DC143C', stopOpacity: 1}} />
                <stop offset="100%" style={{stopColor: '#FFFFFF', stopOpacity: 1}} />
              </linearGradient>
            </defs>

            {/* Autel des Holocaustes */}
            <rect 
              x="350" y="120" width="100" height="100" 
              fill="#CD7F32"
              stroke="#8B4513"
              strokeWidth="3"
              onClick={() => setSelectedElement(elements.autel)}
              className="cursor-pointer hover:fill-orange-600 transition-all"
            />
            <text x="400" y="175" textAnchor="middle" fill="#fff" fontSize="14" fontWeight="bold">
              AUTEL
            </text>
            {/* Feu sur l'autel */}
            <polygon 
              points="380,100 400,80 420,100" 
              fill="#FF4500"
              opacity="0.7"
            />
            <polygon 
              points="385,95 400,75 415,95" 
              fill="#FFD700"
              opacity="0.8"
            />

            {/* Cuve d'Airain */}
            <ellipse 
              cx="400" cy="280" rx="50" ry="30" 
              fill="#B87333"
              stroke="#8B4513"
              strokeWidth="3"
              onClick={() => setSelectedElement(elements.cuve)}
              className="cursor-pointer hover:fill-cyan-700 transition-all"
            />
            <ellipse 
              cx="400" cy="280" rx="40" ry="20" 
              fill="#87CEEB"
              opacity="0.6"
            />
            <text x="400" y="285" textAnchor="middle" fill="#fff" fontSize="12" fontWeight="bold">
              CUVE
            </text>

            {/* Le Tabernacle (structure) */}
            <g onClick={() => setSelectedElement(elements.tente)} className="cursor-pointer">
              {/* Base en bois (visible) */}
              <rect x="250" y="320" width="300" height="100" fill="#8B4513" stroke="#654321" strokeWidth="2"/>
              
              {/* Toiles ext√©rieures (peaux de b√©liers teintes en rouge) */}
              <path 
                d="M 250 320 Q 400 280 550 320" 
                fill="#8B0000" 
                stroke="#654321" 
                strokeWidth="2"
                className="hover:fill-red-800 transition-all"
              />
              
              {/* Couverture sup√©rieure (peaux de dauphins/phoques) */}
              <path 
                d="M 240 320 Q 400 270 560 320" 
                fill="#2F4F4F" 
                stroke="#1C1C1C" 
                strokeWidth="2"
                opacity="0.7"
              />
              
              {/* Entr√©e du Lieu Saint (voile) */}
              <rect x="380" y="360" width="40" height="60" fill="url(#voileCouleur)" opacity="0.9"/>
            </g>
            
            <text x="400" y="390" textAnchor="middle" fill="#fff" fontSize="16" fontWeight="bold">
              TABERNACLE
            </text>

            {/* L√©gendes directionnelles */}
            <text x="400" y="30" textAnchor="middle" fill="#8B4513" fontSize="16" fontWeight="bold">
              ‚Üê OUEST (Lieu Tr√®s Saint) | EST (Entr√©e) ‚Üí
            </text>
            
          </svg>

          {/* L√©gende des couleurs */}
          <div className="mt-4 flex justify-center gap-6 text-sm">
            <div className="flex items-center gap-2">
              <div className="w-6 h-6 bg-amber-700 border-2 border-amber-900"></div>
              <span>Bois d'Acacia</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-6 h-6 bg-orange-600 border-2 border-amber-900"></div>
              <span>Airain (Bronze)</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-6 h-6 bg-white border-2 border-gray-400"></div>
              <span>Lin Blanc</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-6 h-6 bg-gradient-to-r from-blue-600 via-purple-600 to-red-600"></div>
              <span>Voiles Color√©s</span>
            </div>
          </div>
        </div>

        {/* Panneau d'information */}
        {selectedElement && (
          <div className="bg-white rounded-lg shadow-xl p-6 border-l-4 border-amber-600">
            <div className="flex items-start gap-3 mb-4">
              <Info className="text-amber-600 flex-shrink-0 mt-1" size={24} />
              <div className="flex-1">
                <h2 className="text-2xl font-bold text-amber-900 mb-2">
                  {selectedElement.title}
                </h2>
                <p className="text-gray-700 mb-3 leading-relaxed">
                  {selectedElement.description}
                </p>
                <p className="text-sm text-amber-800 font-semibold mb-2">
                  üìñ R√©f√©rence : {selectedElement.reference}
                </p>
                <div className="bg-amber-50 p-4 rounded border-l-4 border-amber-400">
                  <p className="text-sm font-semibold text-amber-900 mb-1">Symbolisme Typologique :</p>
                  <p className="text-sm text-gray-700 italic">
                    {selectedElement.symbolism}
                  </p>
                </div>
              </div>
            </div>
            <button 
              onClick={() => setSelectedElement(null)}
              className="mt-4 px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700 transition-colors"
            >
              Fermer
            </button>
          </div>
        )}

        {/* Instructions */}
        {!selectedElement && (
          <div className="bg-amber-100 rounded-lg p-4 border border-amber-300">
            <p className="text-center text-amber-900">
              <strong>Cliquez sur les √©l√©ments du Tabernacle</strong> pour d√©couvrir leur signification biblique et typologique.
            </p>
          </div>
        )}

        {/* Notes importantes */}
        <div className="mt-6 bg-stone-100 rounded-lg p-4 text-sm text-stone-700">
          <h3 className="font-bold text-amber-900 mb-2">Notes Importantes :</h3>
          <ul className="space-y-1 list-disc list-inside">
            <li><strong>Orientation :</strong> L'entr√©e est toujours √† l'EST (symbolisant Christ, "la Lumi√®re du Monde")</li>
            <li><strong>Progression :</strong> De l'ext√©rieur vers l'int√©rieur = chemin du croyant vers la pr√©sence de Dieu</li>
            <li><strong>Mat√©riaux :</strong> Airain (jugement), Argent (r√©demption), Or (gloire divine)</li>
            <li><strong>Coud√©e :</strong> Environ 45-50 cm (mesure biblique standard)</li>
          </ul>
        </div>
      </div>
    </div>
  );
};

export default TabernacleParvis;
